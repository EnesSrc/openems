<ion-header>
  <ion-toolbar class="ion-justify-content-center" color="primary">
    <ion-title>Status</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="modalCtrl.dismiss()">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-grid>
  <ion-row>
    <ion-card-content>
      <ng-container *ngIf="edge.currentData | async as currentData">
        <ng-container *ngFor="let component of components" [ngSwitch]="component.factoryId">
          <ion-item *ngSwitchCase="'Bridge.Modbus.Serial'">
            <ion-label class="ion-text-wrap">
              <ion-text color="primary">
                <h3>Modbus RTU</h3>
              </ion-text>
              <ng-container [ngSwitch]="currentData.channel[component.id+'/State']">
                <ion-text>
                  <p>Status:
                    <ion-text *ngSwitchCase="0" color="success">i.O.</ion-text>
                    <ion-text *ngSwitchCase="1" color="success">Info</ion-text>
                    <ion-text *ngSwitchCase="2" color="warning">Warnung</ion-text>
                    <ion-text *ngSwitchCase="3" color="danger">Fehler</ion-text>
                  </p>
                </ion-text>
                <ion-note *ngSwitchCase="2 && 3">
                  Komponente läuft nicht einwandfrei.
                </ion-note>
              </ng-container>
            </ion-label>
          </ion-item>
          <ion-item *ngSwitchCase="'IO.KMtronic'">
            <ion-label class="ion-text-wrap">
              <ion-text color="primary">
                <h3>KMtronic Relayboard</h3>
              </ion-text>
              <ng-container [ngSwitch]="currentData.channel[component.id+'/State']">
                <ion-text>
                  <p>Status:
                    <ion-text *ngSwitchCase="0" color="success">i.O.</ion-text>
                    <ion-text *ngSwitchCase="1" color="success">Info</ion-text>
                    <ion-text *ngSwitchCase="2" color="warning">Warnung</ion-text>
                    <ion-text *ngSwitchCase="3" color="danger">Fehler</ion-text>
                  </p>
                </ion-text>
                <ion-note *ngSwitchCase="2 && 3">
                  Komponente läuft nicht einwandfrei.
                </ion-note>
              </ng-container>
            </ion-label>
          </ion-item>
          <ion-item *ngSwitchCase="'Controller.IO.HeatingElement'">
            <ion-label class="ion-text-wrap">
              <ion-text color="primary">
                <h3>Heizelement</h3>
              </ion-text>
              <ng-container [ngSwitch]="currentData.channel[component.id+'/State']">
                <ion-text>
                  <p>Status:
                    <ion-text *ngSwitchCase="0" color="success">i.O.</ion-text>
                    <ion-text *ngSwitchCase="1" color="success">Info</ion-text>
                    <ion-text *ngSwitchCase="2" color="warning">Warnung</ion-text>
                    <ion-text *ngSwitchCase="3" color="danger">Fehler</ion-text>
                  </p>
                </ion-text>
                <ion-note *ngSwitchCase="2 && 3">
                  Komponente läuft nicht einwandfrei.
                </ion-note>
              </ng-container>
            </ion-label>
          </ion-item>
        </ng-container>
      </ng-container>
    </ion-card-content>
  </ion-row>
</ion-grid>